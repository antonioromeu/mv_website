@import "tailwindcss";

/* 1. VARIABLES */
:root {
    --color-off-white: #fffff5;
    --color-blue: #0000fe;
    --color-orange: #e8611d;
    --color-pink: #da328a;
    --color-green: #61b232;
    --font-mono: "Source Code Pro Variable", monospace;
    --spacing-gutter: 3.5vw;
    --transition-speed: 0.4s ease-in-out;
    --nav-height: 15lvh; /* MOBILE NAV HEIGHT */
}

@media (min-width: 768px) {
    :root {
        --nav-height: 15vh; /* DESKTOP NAV HEIGHT OVERRIDE */
    }
}

/* 2. BASE (HTML/BODY LOCK) */
@layer base {
    html {
        height: 100%;
        scroll-behavior: smooth;
        overflow: hidden;
        background-color: var(--color-off-white);
    }

    body {
        background-color: var(--color-off-white);
        font-family: var(--font-mono);
        color: var(--color-blue);
        margin: 0;

        /* The body becomes our scroll container */
        height: 100%;
        width: 100%;
        overflow-y: auto;
        overflow-x: hidden;

        /* min-height: 100vh;
        min-height: -webkit-fill-available; */

        /* Snap logic stays on the scroll container */
        scroll-snap-type: y mandatory; 
        overscroll-behavior-y: none;
        -webkit-overflow-scrolling: touch;
    }

    body, .nav-link {
        will-change: color;
        -webkit-font-smoothing: antialiased;
        transition: color var(--transition-speed);
    }
}

/* 3. THE MASTER CLASS  */
.snap-section {
    /* Snapping */
    scroll-snap-align: start;
    scroll-snap-stop: always;
    scroll-margin-top: 0;

    /* Height: Use lvh to go behind mobile bars and vh for laptops */
    width: 100%;
    height: 100lvh;
    
    /* Layout: Forces children to stack and stay inside the box */
    display: flex;
    flex-direction: column;
    overflow: hidden;
    position: relative;

    /* GPU Boost for smooth scrolling */
    will-change: transform;
    transform: translateZ(0);
}

@media (min-width: 768px) {
    .snap-section {
        height: 100vh;
        flex-direction: row; /* Match your desktop side-by-side design */
    }
}

/* 4. CONTENT ELEMENTS */
.snap-section svg, 
.snap-section path {
    fill: currentColor;
    transition: fill var(--transition-speed);
}

/* 5. UTILITIES */
@layer utilities {
    .pb-safe {
        padding-bottom: env(safe-area-inset-bottom);
    }
    
    .hide-scrollbar {
        scrollbar-width: none;
        &::-webkit-scrollbar { display: none; }
    }
}

/* Mobile Dropdown Logic */
.mobile-dropdown-container.is-open .mobile-dropdown-content {
    opacity: 1;
    transform: scale(1);
    pointer-events: auto;
    visibility: visible;
}