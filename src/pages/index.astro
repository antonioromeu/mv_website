---
import BaseLayout from '../layouts/base_layout.astro';
---
<BaseLayout title="Home">
    <section id="first-section" data-color="#0000fe" class="color-section min-h-[calc(100vh-8rem)] flex flex-col justify-end p-10 md:p-20">
        <div class="w-full">
            <span class="block text-xl md:text-2xl font-bold tracking-tighter mb-2">
                Info
            </span>
            <div class="w-full border-t border-current opacity-20 mb-6"></div>
            <p class="text-base md:text-lg leading-relaxed opacity-90">
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. 
                Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. 
                Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris.
            </p>
        </div>
    </section>

    <section id="second-section" data-color="#e7611d" class="color-section min-h-screen flex flex-col justify-end p-10 md:p-20">
        <div class="max-w-4xl">
            <h2 class="text-4xl md:text-6xl font-bold uppercase tracking-tighter">
                Based in Portugal. <br/> Available Worldwide.
            </h2>
            <p class="mt-4 text-xl">Capturing light and motion since 2018.</p>
        </div>
    </section>

    <script>
        // Use 'window' load to ensure Fontsource is ready
        window.addEventListener('load', () => {
            const sections = document.querySelectorAll('.color-section');
            const body = document.body;

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const newColor = entry.target.getAttribute('data-color') ?? '#0000fe';
                        // We update the body's color property directly
                        body.style.color = newColor;
                    }
                });
            }, { 
                rootMargin: "-128px 0px -50% 0px",
                threshold: 0
            });

            sections.forEach(section => observer.observe(section));
        });
    </script>
</BaseLayout>